{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import os\n",
    "import matplotlib.pyplot as plt\n",
    "from importlib import reload\n",
    "from mppi import InputFiles as I, Calculators as C, Datasets as D"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Tutorial for the Dataset module"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The main object to deal with (one or several) calculations is the Dataset class. Here we discuss some explicit examples to describe the usage and the main features of the package."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Perform a convergence analysis for the gs energy of Silicon"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We discuss how to perform a convergence analysis for the determination of the number of k-points and the cut-off energy that provides _converged_ results for the gs of Silicon using QE.\n",
    "\n",
    "Define the dataset and specify the type of pre_processing function"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "si_gs = D.Dataset(label='Si gs convergence',run_dir='si_gs',pre_processing='scf')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Define the calculator that will execute the computations"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Initialize a qe calculator with command OMP_NUM_THREADS=1 mpirun -np 4 pw.x\n"
     ]
    }
   ],
   "source": [
    "code = C.QeCalculator(omp=1,mpi_run='mpirun -np 4',executable='pw.x',verbose=True,skip=True)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Call the pre_processing function, that in this case build the run_dir if it is not already present"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "si_gs.pre_processing_function()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Append the runs to the dataset. This procedures make usage of the PwIn boject that creates the instance of the input for QE. The object are written on file only at the level of the run"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "&control\n",
      "           verbosity = 'high'\n",
      "          pseudo_dir = '../pseudos'\n",
      "         calculation = 'scf'\n",
      "/&end\n",
      "&system\n",
      "    force_symmorphic = .true.\n",
      "         occupations = 'fixed'\n",
      "               ibrav = 2\n",
      "           celldm(1) = 10.3\n",
      "                ntyp = 1\n",
      "                 nat = 2\n",
      "/&end\n",
      "&electrons\n",
      "            conv_thr = 1e-08\n",
      "/&end\n",
      "ATOMIC_SPECIES\n",
      "  Si   28.086    Si.pbe-mt_fhi.UPF\n",
      "ATOMIC_POSITIONS { crystal }\n",
      " Si   0.1250000000   0.1250000000   0.1250000000\n",
      " Si  -0.1250000000  -0.1250000000  -0.1250000000\n",
      "K_POINTS { automatic }\n",
      "  1  1  1  0  0  0\n",
      "\n"
     ]
    }
   ],
   "source": [
    "si_input = I.PwIn()\n",
    "A = [0.125,0.125,0.125]\n",
    "B = [-.125,-.125,-.125]\n",
    "\n",
    "si_input.set_pseudo_dir('../pseudos')\n",
    "si_input.set_calculation('scf')\n",
    "si_input.system['force_symmorphic'] = \".true.\"\n",
    "\n",
    "si_input.set_occupations('fixed')\n",
    "si_input.system['ibrav'] = 2\n",
    "si_input.system['celldm(1)'] = 10.3\n",
    "si_input.set_atoms_type(1)\n",
    "si_input.set_atoms_number(2)\n",
    "si_input.set_atoms_position(pos_type='crystal',pos_list=[['Si',A],['Si',B]])\n",
    "si_input.atypes = {'Si': [28.086,\"Si.pbe-mt_fhi.UPF\"]}\n",
    "si_input.set_convergence_thr(1e-8)\n",
    "\n",
    "print(si_input)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Choose the parameters for the convergence test and append the associated runs"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "kpoints = [2,3,4,5,6] \n",
    "ecut = [10,20,30,40,50]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [],
   "source": [
    "for k in kpoints:\n",
    "    for e in ecut:\n",
    "        idd = {'k' : k, 'ecut' : e} \n",
    "        si_input.set_prefix(D.name_from_id(idd))\n",
    "        si_input.set_kpoints(ktype='automatic',kpoints=[k,k,k])\n",
    "        si_input.set_energy_cutoff(e)\n",
    "        si_gs.append_run(id=idd,calculator=code,input=si_input)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "&control\n",
      "           verbosity = 'high'\n",
      "          pseudo_dir = '../pseudos'\n",
      "         calculation = 'scf'\n",
      "              prefix = 'ecut:10,k:3'\n",
      "/&end\n",
      "&system\n",
      "    force_symmorphic = .true.\n",
      "         occupations = 'fixed'\n",
      "               ibrav = 2\n",
      "           celldm(1) = 10.3\n",
      "                ntyp = 1\n",
      "                 nat = 2\n",
      "             ecutwfc = 10\n",
      "/&end\n",
      "&electrons\n",
      "            conv_thr = 1e-08\n",
      "/&end\n",
      "ATOMIC_SPECIES\n",
      "  Si   28.086    Si.pbe-mt_fhi.UPF\n",
      "ATOMIC_POSITIONS { crystal }\n",
      " Si   0.1250000000   0.1250000000   0.1250000000\n",
      " Si  -0.1250000000  -0.1250000000  -0.1250000000\n",
      "K_POINTS { automatic }\n",
      "  3  3  3  0  0  0\n",
      "\n"
     ]
    }
   ],
   "source": [
    "print(si_gs.runs[5])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Note tha the prefix associated to each run is built by means of the name_from_id method that create a string from the idd dictionary of the run. This choice is not mandatory but it is an easy way to have a clear association among the runs and the associated names.\n",
    "\n",
    "The dataset is run as follows:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:10,k:2.in > ecut:10,k:2.log\n",
      "parse file :si_gs/ecut:10,k:2.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:20,k:2.in > ecut:20,k:2.log\n",
      "parse file :si_gs/ecut:20,k:2.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:30,k:2.in > ecut:30,k:2.log\n",
      "parse file :si_gs/ecut:30,k:2.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:40,k:2.in > ecut:40,k:2.log\n",
      "parse file :si_gs/ecut:40,k:2.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:50,k:2.in > ecut:50,k:2.log\n",
      "parse file :si_gs/ecut:50,k:2.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:10,k:3.in > ecut:10,k:3.log\n",
      "parse file :si_gs/ecut:10,k:3.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:20,k:3.in > ecut:20,k:3.log\n",
      "parse file :si_gs/ecut:20,k:3.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:30,k:3.in > ecut:30,k:3.log\n",
      "parse file :si_gs/ecut:30,k:3.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:40,k:3.in > ecut:40,k:3.log\n",
      "parse file :si_gs/ecut:40,k:3.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:50,k:3.in > ecut:50,k:3.log\n",
      "parse file :si_gs/ecut:50,k:3.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:10,k:4.in > ecut:10,k:4.log\n",
      "parse file :si_gs/ecut:10,k:4.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:20,k:4.in > ecut:20,k:4.log\n",
      "parse file :si_gs/ecut:20,k:4.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:30,k:4.in > ecut:30,k:4.log\n",
      "parse file :si_gs/ecut:30,k:4.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:40,k:4.in > ecut:40,k:4.log\n",
      "parse file :si_gs/ecut:40,k:4.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:50,k:4.in > ecut:50,k:4.log\n",
      "parse file :si_gs/ecut:50,k:4.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:10,k:5.in > ecut:10,k:5.log\n",
      "parse file :si_gs/ecut:10,k:5.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:20,k:5.in > ecut:20,k:5.log\n",
      "parse file :si_gs/ecut:20,k:5.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:30,k:5.in > ecut:30,k:5.log\n",
      "parse file :si_gs/ecut:30,k:5.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:40,k:5.in > ecut:40,k:5.log\n",
      "parse file :si_gs/ecut:40,k:5.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:50,k:5.in > ecut:50,k:5.log\n",
      "parse file :si_gs/ecut:50,k:5.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:10,k:6.in > ecut:10,k:6.log\n",
      "parse file :si_gs/ecut:10,k:6.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:20,k:6.in > ecut:20,k:6.log\n",
      "parse file :si_gs/ecut:20,k:6.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:30,k:6.in > ecut:30,k:6.log\n",
      "parse file :si_gs/ecut:30,k:6.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:40,k:6.in > ecut:40,k:6.log\n",
      "parse file :si_gs/ecut:40,k:6.save/data-file-schema.xml\n",
      "execute : cd si_gs ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:50,k:6.in > ecut:50,k:6.log\n",
      "parse file :si_gs/ecut:50,k:6.save/data-file-schema.xml\n"
     ]
    }
   ],
   "source": [
    "si_gs.run(post_processing=True)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Results can be easily estracted using the fetch_results method of the dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "for k in kpoints:\n",
    "    data=si_gs.fetch_results(id={'k': k},attribute='E_tot')\n",
    "    plt.plot(ecut,data,label='k='+str(k))\n",
    "plt.title(si_gs.label,size = 14)\n",
    "plt.xlabel('cut off energy (Ry)',size=12)\n",
    "plt.ylabel('GS energy (Ha)',size = 12)\n",
    "plt.legend()\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "On the basis of this analysis with identify the scf converged parameters that will be used as input for nscf ones"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [],
   "source": [
    "k_conv = 4\n",
    "ecut_conv = 50"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "All the results are written in the .results member of the dataset. This is a dictionary in wich all the post_processing are stored, the key represent the position of the study specified in the .ids list"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{0: <qepppy.qe.pw_out.pw_out at 0x7f0f229eff98>,\n",
       " 1: <qepppy.qe.pw_out.pw_out at 0x7f0f224556a0>,\n",
       " 2: <qepppy.qe.pw_out.pw_out at 0x7f0f223def28>,\n",
       " 3: <qepppy.qe.pw_out.pw_out at 0x7f0f223c8fd0>,\n",
       " 4: <qepppy.qe.pw_out.pw_out at 0x7f0f223dee80>,\n",
       " 5: <qepppy.qe.pw_out.pw_out at 0x7f0f223e9e48>,\n",
       " 6: <qepppy.qe.pw_out.pw_out at 0x7f0f22455828>,\n",
       " 7: <qepppy.qe.pw_out.pw_out at 0x7f0f224557f0>,\n",
       " 8: <qepppy.qe.pw_out.pw_out at 0x7f0f22375a90>,\n",
       " 9: <qepppy.qe.pw_out.pw_out at 0x7f0f223bbda0>,\n",
       " 10: <qepppy.qe.pw_out.pw_out at 0x7f0f22382898>,\n",
       " 11: <qepppy.qe.pw_out.pw_out at 0x7f0f22396400>,\n",
       " 12: <qepppy.qe.pw_out.pw_out at 0x7f0f223de978>,\n",
       " 13: <qepppy.qe.pw_out.pw_out at 0x7f0f223b1358>,\n",
       " 14: <qepppy.qe.pw_out.pw_out at 0x7f0f2233bf28>,\n",
       " 15: <qepppy.qe.pw_out.pw_out at 0x7f0f22353cc0>,\n",
       " 16: <qepppy.qe.pw_out.pw_out at 0x7f0f223e9208>,\n",
       " 17: <qepppy.qe.pw_out.pw_out at 0x7f0f2245dda0>,\n",
       " 18: <qepppy.qe.pw_out.pw_out at 0x7f0f222fda20>,\n",
       " 19: <qepppy.qe.pw_out.pw_out at 0x7f0f22382c18>,\n",
       " 20: <qepppy.qe.pw_out.pw_out at 0x7f0f223bbbe0>,\n",
       " 21: <qepppy.qe.pw_out.pw_out at 0x7f0f222f0518>,\n",
       " 22: <qepppy.qe.pw_out.pw_out at 0x7f0f223debe0>,\n",
       " 23: <qepppy.qe.pw_out.pw_out at 0x7f0f22375fd0>,\n",
       " 24: <qepppy.qe.pw_out.pw_out at 0x7f0f223ae7b8>}"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "si_gs.results"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[{'k': 2, 'ecut': 10},\n",
       " {'k': 2, 'ecut': 20},\n",
       " {'k': 2, 'ecut': 30},\n",
       " {'k': 2, 'ecut': 40},\n",
       " {'k': 2, 'ecut': 50},\n",
       " {'k': 3, 'ecut': 10},\n",
       " {'k': 3, 'ecut': 20},\n",
       " {'k': 3, 'ecut': 30},\n",
       " {'k': 3, 'ecut': 40},\n",
       " {'k': 3, 'ecut': 50},\n",
       " {'k': 4, 'ecut': 10},\n",
       " {'k': 4, 'ecut': 20},\n",
       " {'k': 4, 'ecut': 30},\n",
       " {'k': 4, 'ecut': 40},\n",
       " {'k': 4, 'ecut': 50},\n",
       " {'k': 5, 'ecut': 10},\n",
       " {'k': 5, 'ecut': 20},\n",
       " {'k': 5, 'ecut': 30},\n",
       " {'k': 5, 'ecut': 40},\n",
       " {'k': 5, 'ecut': 50},\n",
       " {'k': 6, 'ecut': 10},\n",
       " {'k': 6, 'ecut': 20},\n",
       " {'k': 6, 'ecut': 30},\n",
       " {'k': 6, 'ecut': 40},\n",
       " {'k': 6, 'ecut': 50}]"
      ]
     },
     "execution_count": 19,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "si_gs.ids"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "A lot of quantities can be extracted from results, for instance"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [],
   "source": [
    "result = si_gs.results[0]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "-7.761788836295096"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "result.E_tot #total energy in Hartree"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "10.3"
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "result.alat #atomic units = angstrom/0.529177211"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[-1.2875,  1.2875,  1.2875],\n",
       "       [ 1.2875, -1.2875, -1.2875]])"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "result.atoms_coord_cart # in which units ?????"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "No handles with labels found to put in legend.\n"
     ]
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/plain": [
       "array([[-20.   ,   0.   ],\n",
       "       [-19.999,   0.   ],\n",
       "       [-19.998,   0.   ],\n",
       "       ...,\n",
       "       [ 19.998,   0.   ],\n",
       "       [ 19.999,   0.   ],\n",
       "       [ 20.   ,   0.   ]])"
      ]
     },
     "execution_count": 24,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#pFile : option to enable/disable file save\n",
    "#fname : output file name\n",
    "result.density_of_states(pFile=False)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Perform a sef of nscf computations for Silicon"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We illustrate the usage of the dataset class to perform nscf computations using QE. In this case the pre_processing function performs different operations since the .save folder of the scf computation used as input has to be copied in the run_dir of the nscf dataset. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [],
   "source": [
    "si_nscf = D.Dataset(label='Si nscf',run_dir='si_nscf',pre_processing='nscf')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Define the calculator that will execute the computations"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Initialize a qe calculator with command OMP_NUM_THREADS=1 mpirun -np 4 pw.x\n"
     ]
    }
   ],
   "source": [
    "code = C.QeCalculator(omp=1,mpi_run='mpirun -np 4',executable='pw.x',verbose=True,skip=True)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Add some runs to the nscf dataset"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [],
   "source": [
    "nscf_kpoints = [4,5,6]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {},
   "outputs": [],
   "source": [
    "si_input.set_calculation('nscf')\n",
    "si_input.set_num_bands(10)\n",
    "\n",
    "for k in nscf_kpoints:\n",
    "    idd = {'k' : k} \n",
    "    si_input.set_prefix(D.name_from_id(idd))\n",
    "    si_input.set_kpoints(ktype='automatic',kpoints=[k,k,k])\n",
    "    si_input.set_energy_cutoff(ecut_conv)\n",
    "    si_nscf.append_run(id=idd,calculator=code,input=si_input)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[{'k': 4}, {'k': 5}, {'k': 6}]"
      ]
     },
     "execution_count": 35,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "si_nscf.ids"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Call the pre_processing function, that in this case build the run_dir if it is not already present"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Create folder si_nscf\n",
      "execute :  cp -r si_gs/ecut:50,k:4.save si_nscf/k:4.save\n",
      "execute :  cp -r si_gs/ecut:50,k:4.save si_nscf/k:5.save\n",
      "execute :  cp -r si_gs/ecut:50,k:4.save si_nscf/k:6.save\n"
     ]
    }
   ],
   "source": [
    "si_nscf.pre_processing_function(source_dir='si_gs/ecut:50,k:4.save')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Now the dataset can be run and the post_processing parse the output as in the scf case"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "execute : cd si_nscf ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp k:4.in > k:4.log\n",
      "parse file :si_nscf/k:4.save/data-file-schema.xml\n",
      "execute : cd si_nscf ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp k:5.in > k:5.log\n",
      "parse file :si_nscf/k:5.save/data-file-schema.xml\n",
      "execute : cd si_nscf ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp k:6.in > k:6.log\n",
      "parse file :si_nscf/k:6.save/data-file-schema.xml\n"
     ]
    }
   ],
   "source": [
    "si_nscf.run()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Perform a set of Hartree-Fock computations with Yambo"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Dataset can be used to organize Yambo computation in an analogous way of the QE ones. The differences are represented by the usage of YamboIn to build the input files, the usage of YamboCalculator to run the computations and by the pre_processing function."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Initialize a Yambo calculator with command OMP_NUM_THREADS=1 mpirun -np 4 yambo\n"
     ]
    }
   ],
   "source": [
    "code = C.YamboCalculator(omp=1,mpi_run='mpirun -np 4',executable='yambo',verbose=True,skip=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [],
   "source": [
    "yambo_hf = D.Dataset(label='Hatree-Fock',run_dir='yambo_hf',pre_processing='yambo')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "In this case the pre_processing function _has to be_ called before appending the runs because the YamboIn class neeeds the SAVE folder to init the input object.\n",
    "\n",
    "The dataset make usage of __one__ nscf computation to build the SAVE folder that is used in all the runs"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "source = 'si_nscf/k:6.save'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "execute :  cd si_nscf/k:6.save;p2y\n",
      "execute :  cp -r si_nscf/k:6.save/SAVE yambo_hf\n",
      "execute :  cd yambo_hf;OMP_NUM_THREADS=1 yambo\n"
     ]
    }
   ],
   "source": [
    "yambo_hf.pre_processing_function(source_dir=source)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# se trova gia la SAVE folder si blocca....da sistemare...."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Now the runs can be appended to the dataset. For instance we perform parametric runs in terms of the EXXRLvcs parameter that expresses the energy cutoff in the number of g-components of G0"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [],
   "source": [
    "exx_values = [2.,3.,4.] #in Hartree"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "yambo_in = I.YamboIn('yambo -x -V rl',folder=yambo_hf.run_dir)\n",
    "\n",
    "for ex in exx_values:\n",
    "    idd = {'EXXRLvcs' : ex} \n",
    "    yambo_in['EXXRLvcs'] = [1000.0*ex,'mHa']\n",
    "    yambo_hf.append_run(id=idd,calculator=code,input=yambo_in)  "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[{'EXXRLvcs': 2.0}, {'EXXRLvcs': 3.0}, {'EXXRLvcs': 4.0}]"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "yambo_hf.ids"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "HF_and_locXC\n",
      "FFTGvecs = 2133.000000 RL\n",
      "SE_Threads = 0.000000e+00 \n",
      "EXXRLvcs = 2000.000000 mHa\n",
      "% QPkrange\n",
      " 1 | 32 | 1 | 10 |   \n",
      "%\n",
      "\n"
     ]
    }
   ],
   "source": [
    "print(yambo_hf.runs[0])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "execute : cd yambo_hf ; OMP_NUM_THREADS=1 mpirun -np 4 yambo -F EXXRLvcs:2.0.in -J EXXRLvcs:2.0 -C EXXRLvcs:2.0\n",
      "output in :  yambo_hf/EXXRLvcs:2.0/o-EXXRLvcs:2.0.hf\n",
      "skip the computation for : yambo_hf/EXXRLvcs:2.0/o-EXXRLvcs:2.0.hf\n",
      "output in :  yambo_hf/EXXRLvcs:2.0/o-EXXRLvcs:2.0.hf\n",
      "skip the computation for : yambo_hf/EXXRLvcs:2.0/o-EXXRLvcs:2.0.hf\n",
      "output in :  yambo_hf/EXXRLvcs:2.0/o-EXXRLvcs:2.0.hf\n"
     ]
    }
   ],
   "source": [
    "yambo_hf.run()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# sembra che provi a ripetere sempre il primo run...sistemare"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "################################################"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## InputFiles module :  construction of the pw input file"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The Inputs module contains the PwIn class that allows us to built the input file of QuantumESPRESSO. \n",
    "The constructor of the class builds the input object, the member of the class can be given and modified both using specific methods and/or by direct setting. \n",
    "\n",
    "Here we provide, as an example, the building of the input for Graphene:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "input = I.PwIn()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {
    "scrolled": false
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "&control\n",
      "           verbosity = 'high'\n",
      "         calculation = 'scf'\n",
      "          pseudo_dir = '../pseudos'\n",
      "              prefix = 'data'\n",
      "/&end\n",
      "&system\n",
      "               ibrav = 0\n",
      "                ntyp = 1\n",
      "                 nat = 2\n",
      "             ecutwfc = 80\n",
      "/&end\n",
      "&electrons\n",
      "            conv_thr = 1e-08\n",
      "/&end\n",
      "ATOMIC_SPECIES\n",
      "   C   12.011   C_pbe-20082014.UPF\n",
      "ATOMIC_POSITIONS { angstrom }\n",
      "  C   0.0000000000   0.0000000000   0.0000000000\n",
      "  C   0.0000000000   1.4200000000   0.0000000000\n",
      "K_POINTS { automatic }\n",
      "  6  6  1  0  0  0\n",
      "CELL_PARAMETERS angstrom\n",
      "  2.4595121467   0.0000000000   0.0000000000 \n",
      "  1.2297560734   2.1300000000   0.0000000000 \n",
      "  0.0000000000   0.0000000000  10.0000000000 \n",
      "\n"
     ]
    }
   ],
   "source": [
    "k = 6\n",
    "ecut = 80\n",
    "a0 = 1.42\n",
    "planeSep  = 10.0\n",
    "A = [0.,0.,0.]\n",
    "B = [0.,a0,0.]\n",
    "a1 = [a0*np.sqrt(3),0.,0.]\n",
    "a2 = [a0*np.sqrt(3)/2,a0*3./2,0.]\n",
    "a3 = [0.,0.,planeSep]\n",
    "\n",
    "input.set_calculation('scf')\n",
    "input.set_pseudo_dir('../pseudos')\n",
    "input.set_prefix('data')\n",
    "input.system['ibrav'] = 0\n",
    "input.cell_parameters =[a1,a2,a3]\n",
    "input.set_atoms_type(1)\n",
    "input.set_atoms_number(2)\n",
    "input.set_atoms_position(pos_type='angstrom',pos_list=[['C',A],['C',B]])\n",
    "input.atypes = {'C': [12.011,'C_pbe-20082014.UPF']}\n",
    "input.set_convergence_thr(1e-8)\n",
    "input.set_kpoints(ktype='automatic',kpoints=[k,k,1])\n",
    "input.set_energy_cutoff(ecut)\n",
    "\n",
    "print(input)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The input object can be written on file using the write method of PwIn"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [],
   "source": [
    "test_dir = 'test_dir'\n",
    "if not os.path.isdir(test_dir): os.mkdir(test_dir)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [],
   "source": [
    "input.write(test_dir+'/'+'input.in')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "This class allows us also to create an instance of PwIn starting from an existing file"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "&control\n",
      "           verbosity = 'high'\n",
      "         calculation = 'scf'\n",
      "          pseudo_dir = '../pseudos'\n",
      "              prefix = 'data'\n",
      "/&end\n",
      "&system\n",
      "               ibrav = 0\n",
      "                ntyp = 1\n",
      "                 nat = 2\n",
      "             ecutwfc = 80\n",
      "/&end\n",
      "&electrons\n",
      "            conv_thr = 1e-08\n",
      "/&end\n",
      "ATOMIC_SPECIES\n",
      "   C   12.011   C_pbe-20082014.UPF\n",
      "ATOMIC_POSITIONS { angstrom }\n",
      "  C   0.0000000000   0.0000000000   0.0000000000\n",
      "  C   0.0000000000   1.4200000000   0.0000000000\n",
      "K_POINTS { automatic }\n",
      "  6  6  1  0  0  0\n",
      "CELL_PARAMETERS angstrom\n",
      "  2.4595121467   0.0000000000   0.0000000000 \n",
      "  1.2297560734   2.1300000000   0.0000000000 \n",
      "  0.0000000000   0.0000000000  10.0000000000 \n",
      "\n"
     ]
    }
   ],
   "source": [
    "input2 = I.PwIn(test_dir+'/'+'input.in')\n",
    "print(input2)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Calculators module : a calculator object for QuantumESPRESSO"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Initialize the calculator"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Initialize a qe calculator with command OMP_NUM_THREADS=1 mpirun -np 4 pw.x\n"
     ]
    }
   ],
   "source": [
    "code = C.QeCalculator(omp=1,mpi_run='mpirun -np 4',executable='pw.x',verbose=True,skip=False)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Specifies the input object, the name of the file and the run_dir, if post_processing is True the .run returns an instance of the pw_out method of qepppy and contains the results of the computation"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "execute : cd pw_run ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp test.in > test.log\n"
     ]
    }
   ],
   "source": [
    "results = code.run(input=input,name='test',run_dir='pw_run',post_processing=True)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Extract the total energy (in Hartree)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "-11.40037440619968"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results.E_tot"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "A lot of quantities can be extracted from results, for instance"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "4.647804377769"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results.alat #atomic units = angstrom/0.529177211"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[0.        , 0.        , 0.        ],\n",
       "       [0.        , 2.68341111, 0.        ]])"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results.atoms_coord_cart # in which units ?????"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "No handles with labels found to put in legend.\n"
     ]
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/plain": [
       "array([[-20.   ,   0.   ],\n",
       "       [-19.999,   0.   ],\n",
       "       [-19.998,   0.   ],\n",
       "       ...,\n",
       "       [ 19.998,   0.   ],\n",
       "       [ 19.999,   0.   ],\n",
       "       [ 20.   ,   0.   ]])"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#pFile : option to enable/disable file save\n",
    "#fname : output file name\n",
    "results.density_of_states(pFile=False)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## InputFiles module :  construction of the Yambo input file"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "To build the input file the SAVE folder is needed by Yambo, so we use the yambo_test folder where a SAVE directory has been copied.\n",
    "\n",
    "The approach used to deal with yambo input files is to call yamboIn with the specific run level. Yambo build a base input file that calls 'yambo.in'. The parameters of the input can be set and the updated file can be written on disk with its specific name."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "HF_and_locXC\n",
      "FFTGvecs = 941.000000 RL\n",
      "SE_Threads = 0.000000e+00 \n",
      "EXXRLvcs = 20000.000000 mHa\n",
      "% QPkrange\n",
      " 1 | 4 | 1 | 10 |   \n",
      "%\n",
      "\n"
     ]
    }
   ],
   "source": [
    "y = I.YamboIn('yambo -x -V rl',folder='yambo_test')\n",
    "y['EXXRLvcs'] = [1000.0*20,'mHa']\n",
    "krange = y['QPkrange'][0][:2]\n",
    "kbandrange = krange + [1,10]\n",
    "y['QPkrange'] = [kbandrange,'']\n",
    "print(y)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Calculators module : a calculator object for Yambo"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The usage of YamboCalculator assumes that the SAVE folder built by p2y is present in the run_dir and that yambo (without argument) has been executed in the folder that contains SAVE to generate r_setup. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Initialize a Yambo calculator with command OMP_NUM_THREADS=1 mpirun -np 4 yambo\n"
     ]
    }
   ],
   "source": [
    "code = C.YamboCalculator(omp=1,mpi_run='mpirun -np 4',executable='yambo',verbose=True,skip=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "execute : cd yambo_test ; OMP_NUM_THREADS=1 mpirun -np 4 yambo -F test.in -J test -C test\n",
      "output in :  yambo_test/test/o-test.hf\n"
     ]
    }
   ],
   "source": [
    "results = code.run(input=y,name='test',run_dir='yambo_test',post_processing=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "dict_keys(['K-point', 'Band', 'Eo', 'Ehf', 'DFT', 'HF'])"
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results.keys()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Dataset module : how to manage several calculations in QE"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Show the functionality of this module by performing a convergence test for the ground state in function of the number of k-points and of the energy cutoff"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Initialize a qe calculator with command OMP_NUM_THREADS=1 mpirun -np 4 pw.x\n"
     ]
    }
   ],
   "source": [
    "code = C.QeCalculator(omp=1,mpi_run='mpirun -np 4',executable='pw.x',verbose=True,skip=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [],
   "source": [
    "study = D.Dataset(label='gs_convergence',run_dir='gs_convergence')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [],
   "source": [
    "kpoints = [3,6,9,12]\n",
    "ecut = [40,60,80,100]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [],
   "source": [
    "for k in kpoints:\n",
    "    for e in ecut:\n",
    "        idd = {'k' : k, 'ecut' : e} \n",
    "        input.set_prefix(D.name_from_id(idd))\n",
    "        input.set_kpoints(ktype='automatic',kpoints=[k,k,1])\n",
    "        input.set_energy_cutoff(e)\n",
    "        study.append_run(id=idd,calculator=code,input=input)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The paramaters of the dataset are given as follows, for instance"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "['ecut:40,k:3', 'ecut:60,k:3', 'ecut:80,k:3', 'ecut:100,k:3', 'ecut:40,k:6', 'ecut:60,k:6', 'ecut:80,k:6', 'ecut:100,k:6', 'ecut:40,k:9', 'ecut:60,k:9', 'ecut:80,k:9', 'ecut:100,k:9', 'ecut:40,k:12', 'ecut:60,k:12', 'ecut:80,k:12', 'ecut:100,k:12']\n",
      "[{'k': 3, 'ecut': 40}, {'k': 3, 'ecut': 60}, {'k': 3, 'ecut': 80}, {'k': 3, 'ecut': 100}, {'k': 6, 'ecut': 40}, {'k': 6, 'ecut': 60}, {'k': 6, 'ecut': 80}, {'k': 6, 'ecut': 100}, {'k': 9, 'ecut': 40}, {'k': 9, 'ecut': 60}, {'k': 9, 'ecut': 80}, {'k': 9, 'ecut': 100}, {'k': 12, 'ecut': 40}, {'k': 12, 'ecut': 60}, {'k': 12, 'ecut': 80}, {'k': 12, 'ecut': 100}]\n",
      "[{'calc': <mppi.Calculators.Calculators.QeCalculator object at 0x7fdae677cd68>, 'runs': [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]}]\n",
      "&control\n",
      "           verbosity = 'high'\n",
      "         calculation = 'scf'\n",
      "          pseudo_dir = '../pseudos'\n",
      "              prefix = 'ecut:100,k:3'\n",
      "/&end\n",
      "&system\n",
      "               ibrav = 0\n",
      "                ntyp = 1\n",
      "                 nat = 2\n",
      "             ecutwfc = 100\n",
      "/&end\n",
      "&electrons\n",
      "            conv_thr = 1e-08\n",
      "/&end\n",
      "ATOMIC_SPECIES\n",
      "   C   12.011   C_pbe-20082014.UPF\n",
      "ATOMIC_POSITIONS { angstrom }\n",
      "  C   0.0000000000   0.0000000000   0.0000000000\n",
      "  C   0.0000000000   1.4200000000   0.0000000000\n",
      "K_POINTS { automatic }\n",
      "  3  3  1  0  0  0\n",
      "CELL_PARAMETERS angstrom\n",
      "  2.4595121467   0.0000000000   0.0000000000 \n",
      "  1.2297560734   2.1300000000   0.0000000000 \n",
      "  0.0000000000   0.0000000000  10.0000000000 \n",
      "\n"
     ]
    }
   ],
   "source": [
    "print(study.names)\n",
    "print(study.ids)\n",
    "print(study.calculators)\n",
    "print(study.runs[3])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "skip the computation for : ecut:40,k:3.log\n",
      "skip the computation for : ecut:60,k:3.log\n",
      "skip the computation for : ecut:80,k:3.log\n",
      "skip the computation for : ecut:100,k:3.log\n",
      "skip the computation for : ecut:40,k:6.log\n",
      "skip the computation for : ecut:60,k:6.log\n",
      "skip the computation for : ecut:80,k:6.log\n",
      "skip the computation for : ecut:100,k:6.log\n",
      "skip the computation for : ecut:40,k:9.log\n",
      "skip the computation for : ecut:60,k:9.log\n",
      "skip the computation for : ecut:80,k:9.log\n",
      "skip the computation for : ecut:100,k:9.log\n",
      "skip the computation for : ecut:40,k:12.log\n",
      "skip the computation for : ecut:60,k:12.log\n",
      "skip the computation for : ecut:80,k:12.log\n",
      "skip the computation for : ecut:100,k:12.log\n"
     ]
    }
   ],
   "source": [
    "results = study.run(post_processing=True)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Dataset module : post_processing of data"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "All the results of the dataset are stored in study.results as a dictionary"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{0: <qepppy.qe.pw_out.pw_out at 0x7fdae67151d0>,\n",
       " 1: <qepppy.qe.pw_out.pw_out at 0x7fdae6670f60>,\n",
       " 2: <qepppy.qe.pw_out.pw_out at 0x7fdae66c3ef0>,\n",
       " 3: <qepppy.qe.pw_out.pw_out at 0x7fdae6670550>,\n",
       " 4: <qepppy.qe.pw_out.pw_out at 0x7fdae66e4048>,\n",
       " 5: <qepppy.qe.pw_out.pw_out at 0x7fdae66c39e8>,\n",
       " 6: <qepppy.qe.pw_out.pw_out at 0x7fdae6715208>,\n",
       " 7: <qepppy.qe.pw_out.pw_out at 0x7fdae66e4c88>,\n",
       " 8: <qepppy.qe.pw_out.pw_out at 0x7fdae679a1d0>,\n",
       " 9: <qepppy.qe.pw_out.pw_out at 0x7fdae66d2d30>,\n",
       " 10: <qepppy.qe.pw_out.pw_out at 0x7fdae6699eb8>,\n",
       " 11: <qepppy.qe.pw_out.pw_out at 0x7fdae87b3b70>,\n",
       " 12: <qepppy.qe.pw_out.pw_out at 0x7fdae66e4ba8>,\n",
       " 13: <qepppy.qe.pw_out.pw_out at 0x7fdae6670eb8>,\n",
       " 14: <qepppy.qe.pw_out.pw_out at 0x7fdae66d21d0>,\n",
       " 15: <qepppy.qe.pw_out.pw_out at 0x7fdae6641438>}"
      ]
     },
     "execution_count": 20,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "study.results"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "To identify the correspondence between the element of study.results and the id, we have to look the position of the study in the ids list and select the associated element of the results dictionary"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[{'k': 3, 'ecut': 40},\n",
       " {'k': 3, 'ecut': 60},\n",
       " {'k': 3, 'ecut': 80},\n",
       " {'k': 3, 'ecut': 100},\n",
       " {'k': 6, 'ecut': 40},\n",
       " {'k': 6, 'ecut': 60},\n",
       " {'k': 6, 'ecut': 80},\n",
       " {'k': 6, 'ecut': 100},\n",
       " {'k': 9, 'ecut': 40},\n",
       " {'k': 9, 'ecut': 60},\n",
       " {'k': 9, 'ecut': 80},\n",
       " {'k': 9, 'ecut': 100},\n",
       " {'k': 12, 'ecut': 40},\n",
       " {'k': 12, 'ecut': 60},\n",
       " {'k': 12, 'ecut': 80},\n",
       " {'k': 12, 'ecut': 100}]"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "study.ids"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "-22.70184777668358\n",
      "-22.80443990263086\n"
     ]
    }
   ],
   "source": [
    "# For instance extract the total energy in two cases and compare with the values in the log files\n",
    "# to check that the extraction procedure is correct\n",
    "# energy of {'k': 3, 'ecut': 40}\n",
    "print(2*study.results[0].E_tot)\n",
    "# energy of {'k': 12, 'ecut': 80}\n",
    "print(2*study.results[14].E_tot)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The fetch_results method of Dataset can be used to extract a quantity, for instance the total energy E_tot,for a subset of the Dataset elements specified by a dictionary, as follows"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "[-11.35092388834179,\n",
       " -11.37186320611442,\n",
       " -11.37341431882221,\n",
       " -11.37382494507814]"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "data=study.fetch_results(id={'ecut': 40},attribute='E_tot')\n",
    "data"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "It can also be used to plot the usual convergence analysis"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "for k in kpoints:\n",
    "    data=study.fetch_results(id={'k': k},attribute='E_tot')\n",
    "    plt.plot(ecut,data,label='k='+str(k))\n",
    "plt.title(study.label)\n",
    "plt.legend()\n",
    "plt.show()\n",
    "    "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Dataset module : nscf pre_processing function in QE"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "In some cases it is useful to perform some preliminary operations before running a computation. For instance before performing a QE nscf computation we need copy of the scf .save folder in the appropriate location\n",
    "\n",
    "For this reason we introduce a pre_processing function that perform the needed operations using the parameters passed to constructor of the dataset object. "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We discuss this functionality by considering a dataset of nscf computations peformed using a subset of values of kpoints and ecut previously defined. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Initialize a qe calculator with command OMP_NUM_THREADS=1 mpirun -np 4 pw.x\n"
     ]
    }
   ],
   "source": [
    "code = C.QeCalculator(omp=1,mpi_run='mpirun -np 4',executable='pw.x',verbose=True,skip=False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [],
   "source": [
    "nscf_study = D.Dataset(label='nscf_analysis',run_dir='nscf',pre_processing='nscf',source_dir='gs_convergence')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The parameters for the pre_processing are stored in the kwargs elements of the class"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'pre_processing': 'nscf', 'source_dir': 'gs_convergence'}"
      ]
     },
     "execution_count": 46,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "nscf_study.kwargs"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "metadata": {},
   "outputs": [],
   "source": [
    "nscf_kpoints = [3,6,9]\n",
    "nscf_ecut = 100"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Append the chosen nscf computations to the dataset, note that the prefix of these computations have to be the same of the scf ones"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "metadata": {},
   "outputs": [],
   "source": [
    "input.set_calculation('nscf')\n",
    "input.system['nbnd'] = 16\n",
    "\n",
    "for k in nscf_kpoints:\n",
    "    idd = {'k' : k, 'ecut' : nscf_ecut} \n",
    "    input.set_prefix(D.name_from_id(idd))\n",
    "    input.set_kpoints(ktype='automatic',kpoints=[k,k,1])\n",
    "    input.set_energy_cutoff(nscf_ecut)\n",
    "    nscf_study.append_run(id=idd,calculator=code,input=input)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "nscf save folder already exsists. Save folder NOT COPIED\n",
      "nscf save folder already exsists. Save folder NOT COPIED\n",
      "nscf save folder already exsists. Save folder NOT COPIED\n",
      "execute : cd nscf ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:100,k:3.in > ecut:100,k:3.log\n",
      "execute : cd nscf ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:100,k:6.in > ecut:100,k:6.log\n",
      "execute : cd nscf ; OMP_NUM_THREADS=1 mpirun -np 4 pw.x -inp ecut:100,k:9.in > ecut:100,k:9.log\n"
     ]
    }
   ],
   "source": [
    "nscf_study.run()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "COMMENT : With this implementation of the pre_processing function the ids and prefix of the nscf dataset need to have the same structure of the scf ones, maybe this could be too restrictive in some cases...."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Dataset module : pre_processing function in Yambo"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The construction of the Yambo input files requires the presence of folder that contains the SAVE folder produced by the action of p2y in a QE .save directory. \n",
    "\n",
    "This operation must be performed before appending the computations to a dataset because at this level the instance of YamboIn are passed to the append_run method. It is convenient to define a pre_processing function that is called _before_ the append_run method. \n",
    "\n",
    "The pre_processing function performs the following operations : \n",
    "* runs p2y in the source_dir and create the SAVE folder\n",
    "* create the run_dir if it does not exists\n",
    "* copy the SAVE folder in the run_dir and executes yambo (without arguments) to build the r_setup"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "To show the functionality of the pre_processing function for Yambo we build a Yambo dataset that takes as input the nscf computations (or a part of) given in the nscf folder."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Initialize a Yambo calculator with command OMP_NUM_THREADS=1 mpirun -np 4 yambo\n"
     ]
    }
   ],
   "source": [
    "code = C.YamboCalculator(omp=1,mpi_run='mpirun -np 4',executable='yambo',verbose=True,skip=True)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Suppose that we want to append computations for the values"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [],
   "source": [
    "yambo_kpoints = [6,9]\n",
    "yambo_ecut = 100"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Un dataset di Yambo vive in un run_dir dentro la quale c'è una SAVE qui un dataset ha un solo calcolo nscf di riferimento. Quindi, ad esempio scelgo k=6"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [],
   "source": [
    "run_dir = 'yambo_k6'\n",
    "yambo_study = D.Dataset(label='k6',run_dir='yambo_k6',pre_processing='yambo',source_dir='nscf/ecut:100,k:6.save')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "HF_and_locXC\n",
      "FFTGvecs = 941.000000 RL\n",
      "SE_Threads = 0.000000e+00 \n",
      "EXXRLvcs = 20000.000000 mHa\n",
      "% QPkrange\n",
      " 1 | 4 | 1 | 10 |   \n",
      "%\n",
      "\n"
     ]
    }
   ],
   "source": [
    "y = I.YamboIn('yambo -x -V rl',folder=fold)\n",
    "y['EXXRLvcs'] = [1000.0*20,'mHa']\n",
    "#krange = y['QPkrange'][0][:2]\n",
    "#kbandrange = krange + [1,10]\n",
    "#y['QPkrange'] = [kbandrange,'']\n",
    "#print(y)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "for ex in [2.,3.,4.]:\n",
    "    idd = {'EXXRLvcs' : ex} \n",
    "    y['EXXRLvcs'] = [1000.0*20,'mHa']\n",
    "    input.set_kpoints(ktype='automatic',kpoints=[k,k,1])\n",
    "    input.set_energy_cutoff(nscf_ecut)\n",
    "    nscf_study.append_run(id=idd,calculator=code,input=input)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "cosi non si puo fare!!!! se non c'è la save folder YamboIn non puo creare l'input"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.7"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
